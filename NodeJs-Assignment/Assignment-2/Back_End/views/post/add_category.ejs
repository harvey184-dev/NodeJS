<h3 style="text-align: center;">Thêm danh mục bài viết</h3>
<div class="col-md-6">
	<form id="add_category_form">
		<div class="form-group">
			<label for="email">Tên danh mục</label>
			<input type="text" id="title_category_post" class="form-control">
		</div>
		<div class="form-group">
			<label for="pwd">Miêu tả danh mục</label>
			<textarea rows="5" id="editor" class="form-control"></textarea>
		</div>

		<button type="submit" class="btn btn-default">Thêm danh mục</button>
	</form>
</div>
<script>
	document.addEventListener('DOMContentLoaded', function () {
		document.getElementById('add_category_form').addEventListener('submit', function (event) {
			event.preventDefault();

			let title_category_post = document.getElementById('title_category_post').value;
			let desc_category_post = CKEDITOR.instances.editor.getData();

			let data = {
				title_category_post: title_category_post,
				desc_category_post: desc_category_post
			};

			fetch('http://localhost:3000/admin/add_category_post', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/json'
				},
				body: JSON.stringify(data)
			})
				.then(res => {
					if (!res.ok) {
						throw new Error('Thêm sản phẩm không thành công');
					}
					return res.json();
				})
				.then(data => {
					console.log(data.message)
					window.location.href = '/admin/list_category_post';
				})
				.catch(error => {
					console.error('Lỗi:', error);
				});
		});
	});

</script>